

<!doctype html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Setting up Workspace &#8212; PySeqsee 0.2.3a1 documentation</title>
    
    <link rel="stylesheet" href="../_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.2.3a1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/bizstyle.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Adding Categories" href="adding_categories.html" />
    <link rel="prev" title="Adding Input Flags" href="adding_input_flags.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="adding_categories.html" title="Adding Categories"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="adding_input_flags.html" title="Adding Input Flags"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">PySeqsee 0.2.3a1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="tutorial_index.html" accesskey="U">Creating a New FARG Application</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo.jpg" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Setting up Workspace</a><ul>
<li><a class="reference internal" href="#updating-the-ui">Updating the UI</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="adding_input_flags.html"
                        title="previous chapter">Adding Input Flags</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="adding_categories.html"
                        title="next chapter">Adding Categories</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="setting-up-workspace">
<h1>Setting up Workspace<a class="headerlink" href="#setting-up-workspace" title="Permalink to this headline">¶</a></h1>
<p>Next, we will set up the workspace and the display of the workspace.</p>
<p>Remember that we have, at this stage, the following constructor for the workspace:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">left_integers</span><span class="p">,</span> <span class="n">right_integers</span><span class="p">):</span>
  <span class="k">pass</span>
</pre></div>
</div>
<p>We will now store these inputs, but first we will create objects from them. We
will not use mere integers because we want to store extra information (such as the
fact that a particular value is a prime number). Let&#8217;s first add a class to the
workspace file. A simple class suffices for now. We will make this more elaborate
later:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">class</span> <span class="nc">Element</span><span class="p">:</span>
  <span class="sd">&quot;&quot;&quot;Class to store individual elements of the left and right sets.&quot;&quot;&quot;</span>
  <span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">magnitude</span><span class="p">):</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">magnitude</span> <span class="o">=</span> <span class="n">magnitude</span>
</pre></div>
</div>
<p>And the workspace constructor itself is changed to:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="o">*</span><span class="p">,</span> <span class="n">left_integers</span><span class="p">,</span> <span class="n">right_integers</span><span class="p">):</span>
  <span class="bp">self</span><span class="o">.</span><span class="n">left_integers</span> <span class="o">=</span> <span class="p">[</span><span class="n">Element</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">left_integers</span><span class="p">]</span>
  <span class="bp">self</span><span class="o">.</span><span class="n">right_integers</span> <span class="o">=</span> <span class="p">[</span><span class="n">Element</span><span class="p">(</span><span class="n">x</span><span class="p">)</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">right_integers</span><span class="p">]</span>
</pre></div>
</div>
<div class="section" id="updating-the-ui">
<h2>Updating the UI<a class="headerlink" href="#updating-the-ui" title="Permalink to this headline">¶</a></h2>
<p>For now, the UI display of the workspace can be simple. We will modify the ReDrawView
function in &#8216;farg/apps/numeric_bongard/gui/workspace_view.py&#8217;, which currently is:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">ReDrawView</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">controller</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;Redraw the workspace if it is being displayed. This is not called otherwise.</span>

<span class="sd">  The attributes that you have access to include self.width, self.height and a method to</span>
<span class="sd">  convert this widget&#39;s coordinates to the full canvas coordinates.</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">workspace</span> <span class="o">=</span> <span class="n">controller</span><span class="o">.</span><span class="n">workspace</span>

  <span class="c1"># EDIT-ME: You&#39;d want to add something real here.</span>
  <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CanvasCoordinates</span><span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">10</span><span class="p">)</span>
  <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">create_text</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="s1">&#39;Hello, World!&#39;</span><span class="p">,</span> <span class="n">anchor</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
</pre></div>
</div>
<p>After modification, it will be:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">ReDrawView</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">controller</span><span class="p">):</span>
  <span class="sd">&quot;&quot;&quot;Redraw the workspace if it is being displayed. This is not called otherwise.</span>

<span class="sd">  The attributes that you have access to include self.width, self.height and a method to</span>
<span class="sd">  convert this widget&#39;s coordinates to the full canvas coordinates.</span>
<span class="sd">  &quot;&quot;&quot;</span>
  <span class="n">workspace</span> <span class="o">=</span> <span class="n">controller</span><span class="o">.</span><span class="n">workspace</span>

  <span class="n">x_for_left</span> <span class="o">=</span> <span class="mi">5</span>
  <span class="n">x_for_right</span> <span class="o">=</span> <span class="mi">5</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span> <span class="o">/</span> <span class="mi">2</span>
  <span class="n">y_delta_for_left</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">-</span> <span class="mi">10</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">workspace</span><span class="o">.</span><span class="n">left_integers</span><span class="p">)</span>
  <span class="n">y_delta_for_right</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">height</span> <span class="o">-</span> <span class="mi">10</span><span class="p">)</span> <span class="o">/</span> <span class="nb">len</span><span class="p">(</span><span class="n">workspace</span><span class="o">.</span><span class="n">right_integers</span><span class="p">)</span>

  <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">element</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">workspace</span><span class="o">.</span><span class="n">left_integers</span><span class="p">):</span>
    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CanvasCoordinates</span><span class="p">(</span><span class="n">x_for_left</span><span class="p">,</span> <span class="mi">5</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="n">y_delta_for_left</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">create_text</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">element</span><span class="o">.</span><span class="n">magnitude</span><span class="p">),</span> <span class="n">anchor</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>

  <span class="k">for</span> <span class="n">i</span><span class="p">,</span> <span class="n">element</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">workspace</span><span class="o">.</span><span class="n">right_integers</span><span class="p">):</span>
    <span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">CanvasCoordinates</span><span class="p">(</span><span class="n">x_for_right</span><span class="p">,</span> <span class="mi">5</span> <span class="o">+</span> <span class="n">i</span> <span class="o">*</span> <span class="n">y_delta_for_right</span><span class="p">)</span>
    <span class="bp">self</span><span class="o">.</span><span class="n">canvas</span><span class="o">.</span><span class="n">create_text</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">text</span><span class="o">=</span><span class="nb">str</span><span class="p">(</span><span class="n">element</span><span class="o">.</span><span class="n">magnitude</span><span class="p">),</span> <span class="n">anchor</span><span class="o">=</span><span class="n">NW</span><span class="p">)</span>
</pre></div>
</div>
<p>And that&#8217;s it. So now we have a rudimentary way to display the WS.</p>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="adding_categories.html" title="Adding Categories"
             >next</a> |</li>
        <li class="right" >
          <a href="adding_input_flags.html" title="Adding Input Flags"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">PySeqsee 0.2.3a1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="tutorial_index.html" >Creating a New FARG Application</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2011, 2012, Abhijit Mahabal.
      Last updated on Jan 08, 2017.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.1.
    </div>
  </body>
</html>