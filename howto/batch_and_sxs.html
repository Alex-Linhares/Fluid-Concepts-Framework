

<!doctype html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>Evaluation: Batch mode and side-by-side mode &#8212; PySeqsee 0.2.3a1 documentation</title>
    
    <link rel="stylesheet" href="../_static/bizstyle.css" type="text/css" />
    <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    '../',
        VERSION:     '0.2.3a1',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true,
        SOURCELINK_SUFFIX: '.txt'
      };
    </script>
    <script type="text/javascript" src="../_static/jquery.js"></script>
    <script type="text/javascript" src="../_static/underscore.js"></script>
    <script type="text/javascript" src="../_static/doctools.js"></script>
    <script type="text/javascript" src="../_static/bizstyle.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Adding ability to perceive something" href="perceiving_something_new.html" />
    <link rel="prev" title="How to ask the user a question" href="ask_question.html" />
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <!--[if lt IE 9]>
    <script type="text/javascript" src="_static/css3-mediaqueries.js"></script>
    <![endif]-->
  </head>
  <body role="document">
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="perceiving_something_new.html" title="Adding ability to perceive something"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="ask_question.html" title="How to ask the user a question"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">PySeqsee 0.2.3a1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="howto_index.html" accesskey="U">How to ...</a> &#187;</li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
            <p class="logo"><a href="../index.html">
              <img class="logo" src="../_static/logo.jpg" alt="Logo"/>
            </a></p>
  <h3><a href="../index.html">Table Of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">Evaluation: Batch mode and side-by-side mode</a><ul>
<li><a class="reference internal" href="#screenshot">Screenshot</a></li>
<li><a class="reference internal" href="#flags-shared-by-both-sxs-and-batch">Flags shared by both SxS and Batch</a><ul>
<li><a class="reference internal" href="#num-iterations-n">&#8211;num_iterations=N</a></li>
<li><a class="reference internal" href="#max-steps-n">&#8211;max_steps=N</a></li>
<li><a class="reference internal" href="#input-spec-file-filename">&#8211;input_spec_file=filename</a></li>
<li><a class="reference internal" href="#reading-the-input">Reading the input</a></li>
</ul>
</li>
<li><a class="reference internal" href="#running-in-batch-mode">Running in Batch mode</a></li>
<li><a class="reference internal" href="#running-a-side-by-side-comparison">Running a side-by-side comparison</a></li>
<li><a class="reference internal" href="#how-to-specify-a-stopping-condition">How to specify a stopping condition</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="ask_question.html"
                        title="previous chapter">How to ask the user a question</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="perceiving_something_new.html"
                        title="next chapter">Adding ability to perceive something</a></p>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <form class="search" action="../search.html" method="get">
      <div><input type="text" name="q" /></div>
      <div><input type="submit" value="Go" /></div>
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="evaluation-batch-mode-and-side-by-side-mode">
<h1>Evaluation: Batch mode and side-by-side mode<a class="headerlink" href="#evaluation-batch-mode-and-side-by-side-mode" title="Permalink to this headline">¶</a></h1>
<p>I will again assume a hypothetical app named &#8216;cat&#8217;.</p>
<p>The batch mode is useful for running the program multiple times on various inputs
and collecting the statistics. To use this mode, you need to add:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">--</span><span class="n">run_mode</span><span class="o">=</span><span class="n">batch</span>
</pre></div>
</div>
<p>The Side-by-side mode allows comparison of two settings of the program by running
the program multiple times on various inputs. It is specified using:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="o">--</span><span class="n">run_mode</span><span class="o">=</span><span class="n">sxs</span>
</pre></div>
</div>
<div class="section" id="screenshot">
<h2>Screenshot<a class="headerlink" href="#screenshot" title="Permalink to this headline">¶</a></h2>
<p>Here is a screenshot of a batch mode run of Seqsee where the previous run had
been hobbled, resulting in the current run being better. The left column shown
input sequences, color coded to show what sequences improved (green) or got worse
(red). White indicates no significant change (at 95% confidence).</p>
<a class="reference internal image-reference" href="../_images/batch_diff.png"><img alt="../_images/batch_diff.png" class="align-center" src="../_images/batch_diff.png" style="height: 300px;" /></a>
</div>
<div class="section" id="flags-shared-by-both-sxs-and-batch">
<h2>Flags shared by both SxS and Batch<a class="headerlink" href="#flags-shared-by-both-sxs-and-batch" title="Permalink to this headline">¶</a></h2>
<div class="section" id="num-iterations-n">
<h3>&#8211;num_iterations=N<a class="headerlink" href="#num-iterations-n" title="Permalink to this headline">¶</a></h3>
<p>How many times to run for each input.</p>
</div>
<div class="section" id="max-steps-n">
<h3>&#8211;max_steps=N<a class="headerlink" href="#max-steps-n" title="Permalink to this headline">¶</a></h3>
<p>Maximum number of steps to run for each.</p>
</div>
<div class="section" id="input-spec-file-filename">
<h3>&#8211;input_spec_file=filename<a class="headerlink" href="#input-spec-file-filename" title="Permalink to this headline">¶</a></h3>
<p>File containing inputs on which to run. The format of this file is described
below.</p>
</div>
<div class="section" id="reading-the-input">
<h3>Reading the input<a class="headerlink" href="#reading-the-input" title="Permalink to this headline">¶</a></h3>
<p>The class that reads the input is a subclass of ReadInputSpec in &#8216;farg/core/read_input_spec.py&#8217;.
If your input is line based, you can get by with just overriding &#8216;ReadLine&#8217;. Non-comment
non-empty lines are sent to this function, and it should return a SpecificationForOneRun object.
This merely has a name for the input and command line flags to be used during the run.</p>
<p>For Seqsee, the line reader splits on &#8216;|&#8217; and returns a SpecificationForOneRun:</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="k">def</span> <span class="nf">ReadLine</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">line</span><span class="p">):</span>
  <span class="k">if</span> <span class="ow">not</span> <span class="s1">&#39;|&#39;</span> <span class="ow">in</span> <span class="n">line</span><span class="p">:</span>
    <span class="k">return</span>
  <span class="nb">input</span><span class="p">,</span> <span class="n">continuation</span> <span class="o">=</span> <span class="p">(</span><span class="n">x</span><span class="o">.</span><span class="n">split</span><span class="p">()</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">line</span><span class="o">.</span><span class="n">strip</span><span class="p">()</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s1">&#39;|&#39;</span><span class="p">))</span>
  <span class="k">yield</span> <span class="n">SpecificationForOneRun</span><span class="p">(</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">input</span><span class="p">),</span>  <span class="c1"># name</span>
                               <span class="nb">dict</span><span class="p">(</span><span class="n">sequence</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="nb">input</span><span class="p">),</span>
                                    <span class="n">unrevealed_terms</span><span class="o">=</span><span class="s1">&#39; &#39;</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">continuation</span><span class="p">)))</span>
</pre></div>
</div>
<p>If your input does not fit well on a single line, you can override the ReadFile
method and you can parse it in whatever way and return a bunch of SpecificationForOneRun.</p>
</div>
</div>
<div class="section" id="running-in-batch-mode">
<h2>Running in Batch mode<a class="headerlink" href="#running-in-batch-mode" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="running-a-side-by-side-comparison">
<h2>Running a side-by-side comparison<a class="headerlink" href="#running-a-side-by-side-comparison" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="how-to-specify-a-stopping-condition">
<h2>How to specify a stopping condition<a class="headerlink" href="#how-to-specify-a-stopping-condition" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="../py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="perceiving_something_new.html" title="Adding ability to perceive something"
             >next</a> |</li>
        <li class="right" >
          <a href="ask_question.html" title="How to ask the user a question"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="../index.html">PySeqsee 0.2.3a1 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="howto_index.html" >How to ...</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2011, 2012, Abhijit Mahabal.
      Last updated on Jan 11, 2017.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.5.1.
    </div>
  </body>
</html>